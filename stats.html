<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stats - Cleaning Tracker</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header header-gradient">
            <div class="header-content">
                <a href="index.html" class="back-btn">←</a>
                <h1>📊 Your Stats</h1>
                <button class="theme-toggle" id="themeToggle">🌙</button>
            </div>
            <p class="header-subtitle">Track your progress and celebrate wins</p>
        </header>

        <!-- Navigation -->
        <nav class="main-nav">
            <a href="index.html" class="nav-link">
                <span class="nav-icon">🏠</span>
                <span class="nav-text">Home</span>
            </a>
            <a href="week.html" class="nav-link">
                <span class="nav-icon">📅</span>
                <span class="nav-text">Week</span>
            </a>
            <a href="tasks.html" class="nav-link">
                <span class="nav-icon">📋</span>
                <span class="nav-text">Tasks</span>
            </a>
            <a href="stats.html" class="nav-link active">
                <span class="nav-icon">📊</span>
                <span class="nav-text">Stats</span>
            </a>
        </nav>

        <!-- Value Created -->
        <section class="value-card">
            <div class="value-content">
                <h2 class="value-title">Value Created</h2>
                <div class="value-amount">$<span id="totalValue">0</span></div>
                <p class="value-subtitle">Based on time saved at $35/hour</p>
            </div>
            <div class="value-stats">
                <div class="value-stat">
                    <div class="value-stat-value" id="hoursCompleted">0</div>
                    <div class="value-stat-label">Hours</div>
                </div>
                <div class="value-stat">
                    <div class="value-stat-value" id="tasksCompleted">0</div>
                    <div class="value-stat-label">Tasks</div>
                </div>
                <div class="value-stat">
                    <div class="value-stat-value" id="currentStreak">0</div>
                    <div class="value-stat-label">Day Streak 🔥</div>
                </div>
            </div>
        </section>

        <!-- Quick Stats Grid -->
        <section class="stats-grid stats-grid-detailed">
            <div class="stat-card-detailed">
                <div class="stat-card-icon">📅</div>
                <div class="stat-card-content">
                    <div class="stat-card-value" id="completedThisWeek">0</div>
                    <div class="stat-card-label">This Week</div>
                </div>
            </div>
            <div class="stat-card-detailed">
                <div class="stat-card-icon">📆</div>
                <div class="stat-card-content">
                    <div class="stat-card-value" id="completedThisMonth">0</div>
                    <div class="stat-card-label">This Month</div>
                </div>
            </div>
            <div class="stat-card-detailed">
                <div class="stat-card-icon">⏱️</div>
                <div class="stat-card-content">
                    <div class="stat-card-value" id="avgTimePerTask">0</div>
                    <div class="stat-card-label">Avg Time</div>
                </div>
            </div>
            <div class="stat-card-detailed">
                <div class="stat-card-icon">🏆</div>
                <div class="stat-card-content">
                    <div class="stat-card-value" id="longestStreak">0</div>
                    <div class="stat-card-label">Best Streak</div>
                </div>
            </div>
        </section>

        <!-- Top Categories -->
        <section class="section">
            <div class="section-header">
                <h2>Top Categories</h2>
            </div>
            <div id="topCategories" class="category-list">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Loading categories...</p>
                </div>
            </div>
        </section>

        <!-- Recent Activity -->
        <section class="section">
            <div class="section-header">
                <h2>Recent Completions</h2>
            </div>
            <div id="recentCompletions" class="activity-list">
                <div class="loading">
                    <div class="spinner"></div>
                    <p>Loading activity...</p>
                </div>
            </div>
        </section>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <!-- Scripts -->
    <script type="module" src="js/config.js"></script>
    <script type="module" src="js/api.js"></script>
    <script type="module" src="js/app.js"></script>
    <script type="module">
        import { loadStats, loadTopCategories, loadRecentCompletions } from './js/app.js';
        
        document.addEventListener('DOMContentLoaded', async () => {
            await loadStats();
            await loadTopCategories();
            await loadRecentCompletions();
        });
    </script>
</body>
</html>